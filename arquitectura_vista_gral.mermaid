graph TB
    %% Frontend
    subgraph "Frontend"
        A[Web App - React.js] 
        B[Mobile App - React Native]
        
        subgraph "Componentes Frontend"
            C1[PDFViewer]
            C2[SignatureUI]
            C3[DocumentView]
            C4[Authentication]
            C5[BiometricCapture]
        end
        
        A --> C1 & C2 & C3 & C4
        B --> C1 & C2 & C3 & C4 & C5
    end
    
    %% Backend
    subgraph "Backend (NestJS)"
        AA[API Gateway]
        
        subgraph "Módulos Core"
            D[AuthModule]
            E[DocumentsModule]
            F[SignaturesModule]
            G[BlockchainModule]
            H[CryptoModule]
            I[SharingModule]
            J[UsersModule]
        end
        
        subgraph "Módulos de Integración"
            K[SATModule]
            L[BiometryModule]
            M[EmailModule]
        end
        
        subgraph "Módulos de Soporte"
            N[AuditModule]
            O[AnalyticsModule]
            P[WebsocketModule]
            Q[AnnotationsModule]
        end
        
        AA --> D & E & F & G & H & I & J
        AA --> K & L & M
        AA --> N & O & P & Q
    end
    
    %% Servicios Externos
    subgraph "Servicios Externos" 
        R[PAC Autorizado]
        S[AWS S3]
        T[Hyperledger Fabric]
        U[Proveedor Biométrico]
    end
    
    %% Base de Datos y Mensajería
    V[(PostgreSQL)]
    W[RabbitMQ]
    
    %% Conexiones principales
    A & B <--> AA
    E <--> S
    F <--> T
    K <--> R
    L <--> U
    
    %% Conexiones de base de datos
    D & E & F & G & H & I & J & K & L & M & N & O & Q --> V
    
    %% Conexiones de cola de mensajes
    E & F & K & M --> W
    W --> E & F & K & M